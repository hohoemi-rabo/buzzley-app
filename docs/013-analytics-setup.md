# 013: アナリティクス導入

## 概要
Google Analytics 4（GA4）の導入とイベントトラッキングの設定

## 優先度
中（MVP推奨）

## 依存関係
なし

## タスク一覧

### GA4セットアップ
- [ ] Google Analytics アカウントの作成
- [ ] GA4プロパティの設定
- [ ] 測定IDの取得
- [ ] Next.jsへのGA4統合

### 基本トラッキング実装
- [ ] ページビューの自動トラッキング
- [ ] セッション時間の計測
- [ ] ユーザーエンゲージメントの計測
- [ ] スクロール深度の測定

### カスタムイベント実装
- [ ] 検索実行イベント
  - [ ] 検索キーワード
  - [ ] フィルター条件
  - [ ] 検索結果数
- [ ] 配信クリックイベント
  - [ ] クリックした配信情報
  - [ ] バズり度
  - [ ] 表示位置
- [ ] ソート変更イベント
- [ ] 無限スクロール読み込みイベント

### コンバージョン設定
- [ ] 主要コンバージョンの定義
- [ ] Twitch配信ページへの遷移
- [ ] 一定時間以上の滞在
- [ ] 検索実行回数

### プライバシー対応
- [ ] Cookieバナーの実装
- [ ] プライバシーポリシーページの作成
- [ ] オプトアウト機能の実装
- [ ] IPアドレスの匿名化

### ダッシュボード設定
- [ ] カスタムレポートの作成
- [ ] 主要KPIの設定
- [ ] アラートの設定
- [ ] 定期レポートの設定

## 受け入れ条件
- GA4でページビューが計測される
- カスタムイベントが正しく送信される
- プライバシー規約に準拠している
- 開発環境では計測されない

## 技術メモ
- gtag.jsを使用
- 環境変数でGA_MEASUREMENT_IDを管理
- Next.js Script コンポーネントで読み込み

## 参考資料
- [GA4 Setup Guide](https://developers.google.com/analytics/devguides/collection/ga4)
- [Next.js Analytics](https://nextjs.org/docs/app/building-your-application/optimizing/third-party-libraries#google-analytics)