# 008: バズり判定ロジック

## 概要
視聴者数とフォロワー数から「バズり度」を算出する中核ロジックの実装

## 優先度
高（MVP必須）

## 依存関係
- 002-twitch-api-integration.md

## タスク一覧

### バズり度計算実装
- [ ] バズり度計算関数作成 (`src/lib/buzz-calculator.ts`)
- [ ] 視聴者数 ÷ フォロワー数の計算
- [ ] パーセンテージ変換
- [ ] ゼロ除算対策

### 判定基準実装
- [ ] 新人層（1〜1,000フォロワー）の判定
  - [ ] 視聴者数 ÷ フォロワー数 ≥ 20%
  - [ ] AND 視聴者数 ≥ 20人
- [ ] 中堅層（1,001〜5,000フォロワー）の判定
  - [ ] 視聴者数 ÷ フォロワー数 ≥ 10%
  - [ ] AND 視聴者数 ≥ 100人
- [ ] 対象外配信者のフィルタリング（5,000フォロワー以上）

### バズりレベル分類
- [ ] バズりレベルの定義（低・中・高・超）
- [ ] レベル別の色分け定義
- [ ] レベル別のアイコン/バッジ定義

### ユニットテスト
- [ ] 計算ロジックのテスト
- [ ] 境界値テスト
- [ ] エッジケースのテスト

### 設定の外部化
- [ ] 判定基準の設定ファイル化
- [ ] 環境変数での調整可能性

## 受け入れ条件
- バズり度が正確に計算される
- 新人層と中堅層で異なる基準が適用される
- 5,000フォロワー以上は対象外となる
- ゼロ除算でエラーが発生しない

## 技術メモ
```typescript
interface BuzzConfig {
  novice: {
    maxFollowers: 1000;
    minBuzzRate: 20;
    minViewers: 20;
  };
  intermediate: {
    maxFollowers: 5000;
    minBuzzRate: 10;
    minViewers: 100;
  };
}
```

## 参考資料
- 要件定義書のバズり判定ロジック仕様